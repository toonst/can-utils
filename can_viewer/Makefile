CC=gcc
CFLAGS=-Wall
DEPS=../other_tools
DEPS2=../other_tools/include

debug:clean canViewer.o lib.o
	$(CC) $(CFLAGS) -g -o can_viewer canViewer.o lib.o -I$(DEPS) -I$(DEPS2)
stable:clean
	$(CC) $(CFLAGS) -o can_viewer canViewer.o lib.o -I$(DEPS) -I$(DEPS2)
	
canViewer.o:	canViewer.c
	$(CC) $(CFLAGS) -c -o $@ $^ -I$(DEPS) -I$(DEPS2)
	#$(CC) -DPACKAGE_NAME=\"can-utils\" -DPACKAGE_TARNAME=\"can-utils\" -DPACKAGE_VERSION=\"trunk\" -DPACKAGE_STRING=\"can-utils\ trunk\" -DPACKAGE_BUGREPORT=\"linux-can@vger.kernel.org\" -DPACKAGE_URL=\"\" -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1 -DHAVE_DLFCN_H=1 -DLT_OBJDIR=\".libs/\" -DPACKAGE=\"can-utils\" -DVERSION=\"trunk\" -DHAVE_FCNTL_H=1 -DHAVE_LIMITS_H=1 -DHAVE_LOCALE_H=1 -DHAVE_STDINT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1 -DHAVE_SYSLOG_H=1 -DHAVE_TERMIOS_H=1 -DHAVE_UNISTD_H=1 -DHAVE_NETINET_IN_H=1 -DHAVE_SYS_IOCTL_H=1 -DHAVE_SYS_SOCKET_H=1 -DHAVE_SYS_TIME_H=1 -DHAVE_FORK=1 -DHAVE_VFORK=1 -DHAVE_WORKING_VFORK=1 -DHAVE_WORKING_FORK=1 -DTIME_WITH_SYS_TIME=1 -DHAVE_SYS_TIME_H=1 -DHAVE_UNISTD_H=1 -DHAVE_ALARM=1 -DHAVE_ALARM=1 -DHAVE_GETTIMEOFDAY=1 -DHAVE_LOCALTIME_R=1 -DHAVE_MEMSET=1 -DHAVE_SELECT=1 -DHAVE_SETLOCALE=1 -DHAVE_SOCKET=1 -DHAVE_STRCHR=1 -DHAVE_STRERROR=1 -DHAVE_STRSTR=1 -DHAVE_STRTOUL=1 -DSO_RXQ_OVFL=40 -DPF_CAN=29 -DAF_CAN=PF_CAN -DN_SLCAN=17 -I$(DEPS) -I$(DEPS2) $(CFLAGS) -O2 -MT $@ -MD -MP -c -o $@ $^
	
lib.o: $(DEPS)/lib.c $(DEPS)/lib.h
	$(CC) $(CFLAGS) -c -o lib.o $(DEPS)/lib.c -I$(DEPS)

clean:
	rm -vfr *~ can_viewer

